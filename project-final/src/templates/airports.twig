{% extends "base.twig" %}

{% block content %}
<div class="container">
  <h2>Airports:
    {% if currentUser is null %}
      <button class="btn" type="submit" style="float: right" disabled>Add Airport</button>
    {% else %}
      <a class="btn" type="submit" style="float: right" href="/airports/add"">Add Airport</a>
    {% endif %}
  </h2>

  <form id="query-airport" action="/airports" method="get"> <!-- redirects to /airports?query_airports=... which is 404 -->
    <input type="text" name="query_airports" placeholder="Search ...">
    <button class="btn" type="submit">Search</button>
  </form>

  <br>
  {% if airports|length == 0 %}
      <div class="well">No airports were found.</div>
  {% else %}
  <table class="table table-hover">
    <thead>
      <tr>
        <td>ID</td>
        <td>Name</td>
        <td>Location</td>
      </tr>
    </thead>
    <tbody>
      {% for airport in airports %}
         <tr href="/airports/{{airport.id}}">
          <td>{{airport.id}}</td>
          <td>{{airport.name}}</td>
          <td>{{airport.location}}</td>
          {% if currentUser is not null %}
            <td><a href="/airports/rmv/{{airport.id}}">Remove</a></td>
          {% endif %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}
</div>

<!--<div class="container">-->
  <!-- <h2>Map - Airports</h2> -->
  <!-- <div id="map"></div> -->
<!--</div>-->

<!-- <script type="text/javascript" src="js/map.js"></script> -->
<!-- <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDklKARJQmiN7GB4UcIEz0FgOym6Nvv1LM&callback=initMap"></script> -->
{% endblock %}
