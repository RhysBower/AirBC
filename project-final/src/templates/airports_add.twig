{% extends "base.twig" %}

{% block content %}
<div class="container">
  <h2>Add an Airport
    {% if currentUser is null %}
      <button class="btn" type="submit" style="float: right" disabled>Add Airport</button>
    {% else %}
      <a class="btn" type="submit" style="float: right" href="/add"">Add Airport</a>
    {% endif %}
  </h2>

  	<div class="col-xs-8">
        <form class="form-inline" id="add-airport-form" action="" method="post">
			<label><h4>ID: </h4></label>
			<input class="form-control" type="text" id="airport_id" placeholder="YVR" required>

			<label><h4>Name: </h4></label>
			<input class="form-control" type="text" id="airport_name" placeholder="Vancouver International Airport" required>

			<label><h4>Location: </h4></label>
			<input class="form-control" type="text" id="airport_location" placeholder="3211 Grant McConachie Way, Richmond, BC V7B 0A4" required>

			<br>
			<input type="submit" value="Add Airport!">
        </form>
    </div>
</div>

<script type="text/javascript">
	$(document).ready(function($) {
		$("#add-airport-form").submit(function(e) {
			e.preventDefault();

			var id = $('#airport_id').val();
			var name = $('#airport_name').val();
			var location = $('#airport_location').val();

			var action = "/airports/add/"+id+"/"+name+"/"+location;
			alert('Airport added! ' + id + name + location);
			window.location = action;
		})
	});    
</script>

<!--<div class="container">-->
  <!-- <h2>Map - Airports</h2>
  <div id="map"></div> -->
<!--</div>-->

<!-- <script type="text/javascript" src="js/map.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDklKARJQmiN7GB4UcIEz0FgOym6Nvv1LM&callback=initMap"></script> -->
{% endblock %}
